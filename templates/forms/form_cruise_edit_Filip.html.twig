<div class="container" style="margin-bottom: 50px;">
    {{ form_start(formCruise) }}
    <div class="row">

        <div class="col-4">{{ form_row(formCruise.plancode) }}</div>
    </div>
    <hr>
    <div class="row">

        {#            <div class="col-6">{{ form_row(formCruise.campaign) }}</div>#}
    </div>


    {{ form_widget(formCruise) }}
    <button type="submit" class="btn btn-primary">Submit modifications</button>

    {{ form_end(formCruise) }}
</div>

{% endblock %}

{% block _cruise_edit_trips_widget %}
<p>Manage the trips</p>
{{ form_widget(form) }}
<input type="hidden" id="widgets-counter" value="0">
<div class="form-group">
    <button type="button" id="add-trip" class="btn btn-primary">Add a trip</button>
    <div class="card">
        <div class="card-header">
            <div class="row">
                <div class="col-2"> <h3 class="card-title">Trips </h3> </div>
                <div class="col-10"> <button type="button" data-action="addTrip"  id="add-trip-header" class="btn btn-primary">Add a trip</button> </div>
            </div>
        </div>
        {{form_widget(form)}}
        <div class="card-footer">
            <div class="row">
                <div class="col-2"> <button type="button"  data-action="addTrip" id="add-trip-footer" class="btn btn-primary">Add a trip</button> </div>
                <div class="col-10"> </div>
            </div>
        </div>
    </div>

    <input type="hidden" id="widgets-counter" value="0">
    {#</div>#}
    {% endblock %}

    {% block _cruise_edit_trips_entry_widget %}
    <div class="form-group" id="block_{{ id }}">
        <div class="row">
            <div class="col-10">
                <div class="row">
                    <div class="col">
                        {{ form_row(form.startdate) }}
                        <div class="card-body">
                            <div class="form-group" id="block_{{ id }}">
                                <div class="row">
                                    <div class="col-10">
                                        <div class="row">
                                            <div class="col">
                                                {{ form_row(form.startdate) }}
                                            </div>
                                            <div class="col">
                                                {{ form_row(form.enddate) }}
                                            </div>
                                            <div class="col">
                                                {{ form_row(form.destinationarea) }}
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-2">
                                        <button type="button" id="remove-trip" class="btn btn-danger" data-action="delete" data-target="#block_{{ id }}">
                                            X
                                        </button>
                                    </div>
                                </div>
                                <div class="col">
                                    {{ form_row(form.enddate) }}
                                </div>
                                <div class="col">
                                    {{ form_row (form.destinationarea) }}
                                </div>
                            </div>
                            <div class="row">

                                {{ form_widget(form.tripinvestigators) }}
                                <hr>
                            </div>

                        </div>
                        <div class="col-2">
                            <button type="button" id="remove-trip" class="btn btn-danger" data-action="delete" data-target="#block_{{ id }}">
                                X
                            </button>
                        </div>
                    </div>
                    <hr>
                </div>

                {% endblock %}

                {# Here we force the form to not display label 0, 1,... 0only widget in row...#}
                {% block _cruise_edit_trips_entry_row %}
                    {{ form_widget(form) }}
                {% endblock %}

                {% block _cruise_edit_trips_entry_tripinvestigators_widget %}
                    <h5 class="card-title">Trip Investigators</h5>
                    <div class="row">
                        <div class="col"> First name </div>
                        <div class="col"> Surname</div>
                    </div>
                    {{form_widget(form)}}
                {% endblock %}

                {% block _cruise_edit_trips_entry_tripinvestigators_entry_widget %}
                    <div class="row mb-2">
                        <div class="col">  {{form_widget(form.firstname)}}</div>
                        <div class="col">  {{form_widget(form.surname)}}</div>
                    </div>
                {% endblock %}

                {% block javascripts %}
                    <script>
                        $('#add-trip').click(function(){
                            $('button[data-action="addTrip"]').click(function(){
                                //Getting the index for the div
                                // const index = $('#cruise_trips div.form-group').length;
                                const index = +$('#widgets-counter').val(); //unary '+' to convert string to number
                            }
                            updateCounter();
                            handleDeleteButtons();
                            console.log('ts');
                    </script>
                {% endblock %}
