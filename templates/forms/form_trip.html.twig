{% extends 'base.html.twig' %}
{% form_theme formTrip with [
    'forms/_collection_trip_tripinvestigators_tripstations.html.twig',
    _self]
%}

 {% block stylesheets %}

     <style>

         .card{
             margin-bottom: 30px;
         }
         .card-header .fa {
             transition: .3s transform ease-in-out;
         }
         .card-header .collapsed .fa {
             transform: rotate(90deg);
         }
     </style>



 {% endblock %}

{% block body %}

    <div class="container">
        <div class="card">
            <div class="card-header">
                <h3>Trip  {{ trip.startdate | date('d/m/Y')}} - {{ trip.enddate | date('d/m/Y')}}</h3>
            </div>
            <div class="card-body">
                <p>Destination: {{ trip.destinationarea }}</p>
                <p>Cruise {{ trip.cruiseid.getPlanCode }}</p>
                <p>Campaign(s):
                    {% for campaign in trip.cruiseid.campaign %}
                        "{{ campaign.campaign }}"
                        {% if loop.last %}{% else %}, {% endif %}
                    {% endfor %}
                </p>
            </div>
        </div>

        {{form_start(formTrip)}}
        <div class="row">
            <div class="col-3">
                {{ form_row(formTrip.startdate) }}
            </div>
            <div class="col-3">
                {{ form_row(formTrip.enddate) }}
            </div>
            <div class="col-3">
                {{ form_row(formTrip.destinationarea) }}
            </div>
            <div class="col-3">
                <button type="submit" class="btn btn-primary">Edit the trip</button>
            </div>
        </div>


            {{ form_widget(formTrip.tripinvestigators) }}

            {{ form_widget(formTrip.tripstations) }}




        {{form_end(formTrip)}}

    </div>
{% endblock %}


{% block javascripts %}
    <script src="/EasyAutocomplete-1.3.5/jquery.easy-autocomplete.js"></script>

    <script src="{{ '/bundles/fosjsrouting/js/router.min.js' }}"></script>
    <script src="{{ path('fos_js_routing_js', { callback: 'fos.Router.setData' }) }}"></script>
    <script src="/js/addTripinvestigatorsStationToTrip.js"></script>

    <script>
        $(document).ready(function () {
            addTripInvestigatorsStationsToTrip.init();
        });
    </script>


{% endblock %}