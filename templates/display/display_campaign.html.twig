{% extends 'base.html.twig' %}

{% block title %}Campaigns{% endblock %}

{% block stylesheets %}<link rel="stylesheet" href="/css/fixedHeader.dataTables.min.css">{% endblock %}


{% block body %}

<div class="container">
    <h1>Campaign:</h1>
    <h2>"{{ campaign.campaign }}" ID {{ campaign.campaignid }}</h2>
    <h3>Memo:</h3>
    <p>{{ campaign.memo }}</p>
    <h3>Imis Project Number: {{ campaign.imisprojectnr }}</h3>
    <h3>Cruises</h3>

    {% set nameOfPresentCampaign =campaign.campaign %}

    <table class="table-hover table-bordered display" id="myDataTable">
        <thead>
            <tr>
                <th class="searchable">Start date</th>
                <th>End date</th>
                <th>Shared campaigns</th>
            </tr>

        </thead>
{#        {{ dump(cruises) }}#}
        <tbody>
        {% for cruise in cruises|sort %}
{#            ((a,b)=>a.startdate<=>b.startdate)#}
            <tr>

                <td>{{ cruise.startdate |date("d/m/Y") }} </td>
                <td>{{ cruise.enddate |date("d/m/Y") }} </td>
                <td>
                    {% for singleCampaign in cruise.campaign %}
                        {% if singleCampaign.campaign != nameOfPresentCampaign %}
                        - {{ singleCampaign.campaign }}<br>
                        {% endif %}
                    {% endfor %}
                </td>

            </tr>
        {% endfor %}
        </tbody>

    </table>



</div>

{% endblock %}

{% block javascripts %}

<script src="/js/dataTables.fixedHeader.min.js"></script>
<script type="text/javascript">
    $(document).ready( function () {
        $('#myDataTable').DataTable({
            // "dom": '<"top"i>rt<"bottom"flp><"clear">',
            fixedHeader: {
                footer: true
            }
            // "scrollX": true
        });
    } );
</script>

{% endblock %}