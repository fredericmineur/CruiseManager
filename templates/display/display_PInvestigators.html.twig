{% extends 'base.html.twig' %}

{% block stylesheets %}
    <link rel="stylesheet" href="{{ asset('css/datatables.min.css') }}">
    <link rel="stylesheet" href="{{ asset('css/fixedHeader.dataTables.min.css') }}">
{#    <link rel="stylesheet" href="/css/jquery.dataTables.min.css">#}
{#    <link rel="stylesheet" type="text/css" href="/css/datatables.min.css"/>#}

{#    <link rel="stylesheet" href="/css/fixedHeader.dataTables.min.css">#}
    {% endblock %}

{% block body %}



    <div class="container">
        <h3>List of principal investigators</h3><a href="{{ path('create_investigator') }}" class="btn btn-success">Add a principal investigator</a>
        <table class="table-hover table-bordered display" id="myDataTable" width="100%">
            <thead>
            {% set headerRow = "
                <tr>
                    <th>Name</th>

                    <th>IMIS</th>
                    <th>Passenger type</th>
                </tr>
                " %}

            {{ headerRow | raw }}
            </thead>
            <tbody>
            {% for investigator in principalInvestigators %}
                <tr>
                    <td>{{ investigator.surname }}, {{ investigator.firstname }}
                        <a href="{{ path('principalinvestigator_details', {'principalInvestigatorId': investigator.investigatorid}) }}" ><i  class="fa fa-info-circle "></i></a>
                        <a href="{{ path('edit_principalinvestigator', {'principalInvestigatorId': investigator.investigatorid}) }}"><i class="fa fa-edit "></i></a>
                        <a href="{{ path('remove_PI_warning', {'principalInvestigatorId': investigator.investigatorid}) }}" class=""><i style="color:red" class="fa fa-trash "></i></a>



                    </td>

                    <td>
                        {% set linkImis = 'http://www.vliz.be/en/imis?module=person&persid=' %}
                        {{ investigator.imisnr }}
                        {% if (investigator.imisnr is not null) and (investigator.imisnr is not empty) %}
                            <a href="{{ linkImis }}{{investigator.imisnr}}" target="_blank"><i class="fa fa-link"></i></a>
                        {% endif %}

                    </td>
                    <td>{{ investigator.passengertype }}</td>

                </tr>
            {% endfor %}
            </tbody>
            <tfoot>
            {{ headerRow | raw }}
            </tfoot>


        </table>

    </div>




{% endblock %}

{% block javascripts %}
    <script type="text/javascript" src="{{ asset('js/datatables.min.js') }}"></script>
    <script type="text/javascript" src="{{ asset('js/myDataTable/tableSearchHeaders.js') }}"></script>
{#    <script type="text/javascript" src="/js/datatables.min.js"></script>#}
{#    <script src="/js/myDataTable/tableSearchHeaders.js"></script>#}


{% endblock %}